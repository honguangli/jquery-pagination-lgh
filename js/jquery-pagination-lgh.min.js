!function(i){"use strict";const a={curr:1,limit:10,total:0,pageTotal:1,show:3,clickFun:null,min:1,max:3,autoRefresh:!1};function t(t,n){this.options=i.extend(!0,a,n),this.element=t}t.prototype={init:function(){const a=this,t=a.element,n=a.options;a.refresh(),t.on("click",".page-start:not(.disabled)",function(){!function(){if(1===n.curr)return;n.curr=1,i.isFunction(n.clickFun)&&n.clickFun(n.curr,n.limit);n.autoRefresh&&a.refresh()}()}),t.on("click",".page-end:not(.disabled)",function(){!function(){if(n.curr===n.pageTotal)return;n.curr=n.pageTotal,i.isFunction(n.clickFun)&&n.clickFun(n.curr,n.limit);n.autoRefresh&&a.refresh()}()}),t.on("click",".page-number:not(.disabled)",function(){!function(t){if(t===n.curr)return;n.curr=t,i.isFunction(n.clickFun)&&n.clickFun(n.curr,n.limit);n.autoRefresh&&a.refresh()}(Number(i(this).attr("data-page")))}),t.on("click",".page-left:not(.disabled)",function(){!function(){if(n.min<=n.show)return;n.max=n.min-1,n.min=n.min-n.show,a.render()}()}),t.on("click",".page-right:not(.disabled)",function(){!function(){if(n.min+n.show>n.pageTotal)return;n.min=n.min+n.show,n.max=Math.min(n.min+n.show-1,n.pageTotal),a.render()}()})},update:function(a,t){const n=this;i.extend(!0,n.options,a),t&&n.refresh()},refresh:function(){this.minmax(),this.render()},minmax:function(){const i=this.options;if(i.pageTotal=Math.ceil(i.total/i.limit),i.pageTotal<=0)return i.curr=1,i.pageTotal=1,i.min=1,void(i.max=1);if(i.curr>i.pageTotal)return i.min=1,void(i.max=Math.min(i.show,i.pageTotal));const a=i.curr%i.show;i.min=0===a?i.curr-(i.show-1):i.curr-(a-1),i.max=Math.min(i.min+i.show-1,i.pageTotal)},render:function(){const i=this.element,a=this.options;let t=[];t.push("<ul>"),1===a.curr?t.push('<li class="page-start disabled"><a href="javascript:void(0);">首页</a></li>'):t.push('<li class="page-start"><a href="javascript:void(0);">首页</a></li>'),1===a.min?t.push('<li class="page-left disabled"><a href="javascript:void(0);">&lt;</a></li>'):t.push('<li class="page-left"><a href="javascript:void(0);">&lt;</a></li>');for(let i=a.min;i<=a.max;i++)i===a.curr?t.push('<li class="page-number on disabled" data-page="'+i+'"><a href="javascript:void(0);">'+i+"</a></li>"):t.push('<li class="page-number" data-page="'+i+'"><a href="javascript:void(0);">'+i+"</a></li>");a.max===a.pageTotal?t.push('<li class="page-right disabled"><a href="javascript:void(0);">&gt;</a></li>'):t.push('<li class="page-right"><a href="javascript:void(0);">&gt;</a></li>'),a.curr===a.pageTotal?t.push('<li class="page-end disabled"><a href="javascript:void(0);">末页</a></li>'):t.push('<li class="page-end"><a href="javascript:void(0);">末页</a></li>'),t.push("</ul>"),i.html(t.join(""))}},i.fn.pagination=function(a){const n=arguments;return this.each(function(){const e=i(this);let r=e.data("pagination");r||((r=new t(e,a)).init(),e.data("pagination",r)),"string"==typeof a&&r[a].apply(r,Array.prototype.slice.call(n,1))})}}($);